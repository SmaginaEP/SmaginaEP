<!DOCTYPE html>
<html lang="en">
<head>
    <!-- голова html-страницы, её содержимое не видно -->
    <meta charset="UTF-8"> <!-- Атрибут charset Указывает кодировку документа -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Этот атрибут определяет имя уровня документа метаданных -->
    <title>Задание JS</title> <!-- название страницы -->
    <link rel="stylesheet" href="../style/style.css"> <!-- стили -->
    <link href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" rel="stylesheet"> 

    <!-- скрипты для формы -->
    <script> function checkForm(el) {
        console.log("проверка");
        // var name = document.getElementById('name').value;
        var name = el.name.value;
        console.log(name);

        var svaz = el.svaz.value;
         console.log(svaz);
         var vopros = el.vopros.value;
        console.log(vopros);


        // проверка пустых ошибок, переменная вар
        // var vivod =name + " " + email + " " + tel;
var fail ="";
var viv = name.value + " " + email.value + " " + tel.value;
if (name == "" || email == "" || tel == "") 
   fail = "Заполните все поля";
// если заполнены, то правильно ли? проверяем длинну имени (строки свойство лейнс)
else if(name.length <=1 || name.length >50)
fail = "Введите корректное имя";

// if(fail != ""){
//     document.getElementById('error').innerHTML = fail;
//     return false;
// } else {
//     alert ("Данные заполнены некорректно");
   
//     return false ;
// } 


if(fail == ""){
    document.getElementById('vivod').innerText = viv;
    // document.getElementById('error').innerHTML = fail;
    // return false;
} else {
    // document.getElementById('vivod').innerHTML = viv;
    document.getElementById('error').innerHTML = fail;
   
    // return true ;
} 

        return false;
    }
    </script> 
    <script>
        function fanc(){
  document.getElementById("posta").checked=true;    
  document.getElementById("tele").checked=true;    
  document.getElementById("nootv").checked=true;    
 
}

    </script>
    <style>
       /* для переключения темы */
        main {
        background: var(--background-color);
        color: var(--text-color);
        }
    
        button {
            color: var(--background-color-dark);
        }
    
        body.theme-dark {
        --background-color: var(--background-color-dark);
        --text-color: var(--akcent-color);
    }
    
        @media (prefers-color-scheme: dark) {
        body.theme-auto {
            --background-color: var(--background-color-dark);
            --text-color: var(--akcent-color);
        }
        }   
        </style>
</head>
<body>
    <header class="header">
        <div class="menu">
        <!-- лого сайта -->
            <div class="header_logo">
            <a href="../index.html">
                <img src = "..\img\logo.jpg" alt="Логотип"  class="logo">
            </a>
        </div>
    <!-- меню сайта -->
        <nav  class="menu_nav">
            <ul>
                <li><a href="../index.html">О себе</a></li>
                <li><a href="../index.html#comps">Что я умею</a></li>
                <li><a href="resume.html">Резюме</a></li>
                <li><a href="portfolio.html">Мои работы</a></li>
                <li><a href="contacts.html">Контакты</a></li>
                <li><a href="JS.html">Задания JS</a></li>
            </ul>
        </nav>
    </div>
    <!-- заголовок сайта -->
        <div  class="title">
            <h1>Веб-технологии</h1> 
            <h3>Университет "Дубна"</h3>
        </div>
    </header>
    <main>
        <section>
            <div>Выберете тему:</div>
             <select name="" id="theme">
             <option value="auto">по умолчанию</option>
             <option value="light">светлая</option>
             <option value="dark">тёмная</option>
             </select>
             <script>
             function applyTheme(theme){
             document.body.classList.remove("theme-auto", "theme-light", "theme-dark");
             document.body.classList.add(`theme-${theme}`);
             }
             document.addEventListener("DOMContentLoaded", ()=>{
             document.querySelector("#theme").addEventListener("change", function(){applyTheme(this.value);});});
             document.addEventListener("DOMContentLoaded", () => {
                 const savedTheme = localStorage.getItem("theme") || "auto";
                 applyTheme(savedTheme);
                 for (const optionElement of document.querySelectorAll("#theme option")){
                     optionElement.selected = savedTheme === optionElement.value;
                 }
                 document.querySelector("#theme").addEventListener("change", function(){
                 localStorage.setItem("theme", this.value);
                 applyTheme (this.value);})
             })
             </script>
        </section>
    <div class="grid1">
        <!--форма-->
        <section class="items1">
            <h2>Форма</h2>
            <div>
            <form class="form" action="" method="get" id="form1" onsubmit="return checkForm(this)">
                <fieldset class="form-div" id="svaz1">
                    <legend>Как Вам удобно получить ответ:</legend>
                    <label for=""><input type="radio" name="svaz" id="posta" value="по почте" > по почте </label><br>
                    <label for=""><input type="radio" name="svaz" id="tele" value="по телефону" > по телефону </label><br>
                    <label for=""><input type="radio" name="svaz" id="nootv" value="не нужно отвечать" > не надо отвечать </label><br>
                </fieldset>
                        
                <div class="form-div ">
                    <label for="theme">Укажите тему вопроса</label><br>
                    <select name="" id="theme" class="input-text">
                        <option value="">работа</option>
                        <option value="">сотрудничество</option>
                        <option value="">личное</option>
                    </select>
                </div >

                <fieldset class="form-div">
                    <legend> И еще один вопрос?</legend>
                    <label for="checkbox1"><input type="checkbox" name="vopros" id="checkbox1" value="может так">может так</label><br>
                    <label for="checkbox2"><input type="checkbox" name="" id="checkbox2">или не так</label><br>
                    <label for="checkbox3"><input type="checkbox" name="" id="checkbox2">иначе</label><br>
                </fieldset>
                    
                <div class="form-div flex-row">
                    <label for="name">Ваше имя</label>
                    <input type="text" name="name" id="name" class="input-text" placeholder="Введите ФИО">
                </div>

                <div class="form-div flex-row" id="email1">
                    <label for="email">Адрес почты</label>
                    <input type="email" name="email" id="email" class="input-text" placeholder="Введите адрес почты">
                </div>

                <div class="form-div flex-row" id="tel1">
                    <label for="tel">Телефона</label>
                    <input type="tel" name="tel" id="tel" class="input-text" placeholder="Введите номер телефона">
                </div>

                <div class="form-div">
                    <div>Ваш вопрос:</div> 
                    <div>
                        <textarea cols="40" placeholder="Введите вопрос">
                        </textarea>
                    </div>
                </div>
                <div class="align-center">
                    <input type="submit" value="отправить вопрос" class="input-text">
                </div>

                <div id="error" style="color: red;"></div>
                <div id="vivod" style="color: rgb(0, 255, 21);"></div>
            </form>
            </div>
        </section>

        <!-- таймер -->
        <section class="items1">
            <h2>Таймер</h2>
            <div class="countdown-wrapper">
                <h1 class="title1">до Нового Года осталось:</h1>
                <div id="year" class="year"></div>
                <div class="countdown" id=countdown>
                    <div class="time">
                        <h2 id="days">00</h2>
                        <small>дней</small>
                    </div>
                    <div class="time">
                        <h2 id="hours">00</h2>
                        <small>часов</small>
                    </div>
                    <div class="time">
                        <h2 id="minutes">00</h2>
                        <small>минут</small>
                    </div>
                    <div class="time">
                        <h2 id="seconds">00</h2>
                        <small>секунд</small>
                    </div>
                </div>
                <div class="preloader" id="preloader">
                    <div class="lds-ripple"><div></div><div></div></div>
                </div>
            </div>
                
        <script>
            // Определяем действующие элементы на странице
            const year = document.querySelector('#year');
            const days = document.querySelector('#days');
            const hours = document.querySelector('#hours');
            const minutes = document.querySelector('#minutes');
            const seconds = document.querySelector('#seconds');
            const countdown = document.querySelector('#countdown');
            const preloader = document.querySelector('#preloader');

            // Делаем расчеты
const currentYear = new Date().getFullYear(); // 2020
const nextYear = new Date(`January 01 ${currentYear + 1} 00:00:00`);

// Устанавливаем год на страницу
year.innerText = currentYear + 1;

function updateCounter() {
	
	const currentTime = new Date();
	const diff = nextYear - currentTime;

	// Перевод в дни
	const daysLeft = Math.floor(diff / 1000 / 60 / 60 / 24);
	// Часов всего, далее остаток от деления на 24 (преобразования в дни), получаем 8 часов
	const hoursLeft = Math.floor(diff / 1000 / 60 / 60) % 24;
	// Минут всего, далее остаток от преобразования в часы, минут осталось
	const minutesLeft = Math.floor(diff / 1000 / 60) % 60;
	// Секунд всего, далее остаток от преобразования в минуты, секунд осталось
	const secondsLeft = Math.floor(diff / 1000) % 60;

	console.log(daysLeft, hoursLeft, minutesLeft, secondsLeft);

	days.innerText = daysLeft;
	hours.innerText = hoursLeft < 10 ? '0' + hoursLeft : hoursLeft;
	minutes.innerText = minutesLeft < 10 ? '0' + minutesLeft : minutesLeft;
	seconds.innerText = secondsLeft < 10 ? '0' + secondsLeft : secondsLeft;
}

// Запускаем расчет 1 раз в секунду (каждую секунду)
setInterval(updateCounter, 1000);

// setTimeout(function () {
//     preloader.remove();
//     countdown.style.display = 'flex';
// }, 1000);
        </script>
        </section>

           <!--галерея 1 слайдер-->
        <section class="items1">
            <h2>Галерея</h2>
            <div>
            <div>
                <div class="slider">
                    <div class="slider-line">
                        <img src="../img/1.jpg"  class="mini" alt="">
                        <img src="../img/2.jpg"  class="mini" alt="">
                        <img src="../img/3.jpg"  class="mini" alt="">
                        <img src="../img/4.jpg"  class="mini" alt="">
                        <img src="../img/5.jpg"  class="mini" alt="">
                        <img src="../img/6.jpg"  class="mini" alt="">
                        <img src="../img/7.jpg"  class="mini" alt="">
                        <img src="../img/8.jpg"  class="mini" alt="">
                        <img src="../img/9.jpg"  class="mini" alt="">
                        <img src="../img/10.jpg"  class="mini" alt="">
                        <img src="../img/11.jpg"  class="mini" alt="">
                        <img src="../img/12.jpg"  class="mini" alt="">
                        <img src="../img/13.jpg"  class="mini" alt="">
                        <img src="../img/14.jpg"  class="mini" alt="">
                        <img src="../img/15.jpg"  class="mini" alt="">
                        <img src="../img/16.jpg"  class="mini" alt="">
                        <img src="../img/17.jpg"  class="mini" alt="">
                        <img src="../img/18.jpg"  class="mini" alt="">
                        <img src="../img/19.jpg"  class="mini" alt="">
                    </div>
                </div>
                <button class="slider-prev">Назад</button>
                <button class="slider-next">Вперед</button>
            </div>

            <script>
                    let offset = 0;
            const sliderLine = document.querySelector('.slider-line');
            document.querySelector('.slider-next').addEventListener('click', function(){
                offset = offset + 256;
                if (offset > 4608) {
                    offset = 0;
                }
                sliderLine.style.left = -offset + 'px';
            });
            
            document.querySelector('.slider-prev').addEventListener('click', function () {
                offset = offset - 256;
                if (offset < 0) {
                    offset = 4608;
                }
                sliderLine.style.left = -offset + 'px';
            });
                </script>
                </div>
        </section>
        <!-- пример сохраняющегося после перезагрузки содержимого -->
<section  class="items1">
    <h2>Сохранение текста</h2>
    <div>
    <textarea name="" id="textArea" cols="30" rows="15"></textarea><br>
    <button onclick="localStorage.removeItem('savetext');textArea.value=''">Очистить</button>
    </div>
                
     <script>
        document.getElementById('textArea').oninput=function text(){
        // alert(textArea.value);
        localStorage.setItem('savetext', document.getElementById('textArea').value);
        // console.log(localStorage.getItem('savetext'));
        }
        document.getElementById('textArea').value = localStorage.getItem('savetext');
    </script>
</section>

<!-- пример списка задач -->
<section class="items1">
    <h2>Список задач</h2>
    <div>
        <h3>новая задача</h3>
    <form class="form1">
        <input id="item" type="text" placeholder="новый пункт" required />
    </form>
        <h3>задача</h3>
        <ul class="ul"></ul>
        <button id ='button'>Очистить</button>
      </div> 

<script>
    // 1
const form = document.querySelector('.form1');
const ul = document.querySelector('.ul');
const button = document.getElementById('button');
const input = document.getElementById('item');
// 6
let itemsArray = localStorage.getItem('items') ? JSON.parse(localStorage.getItem('items')) : [];
// 4
// let itemsArray = [];
localStorage.setItem('items', JSON.stringify(itemsArray));
const data = JSON.parse(localStorage.getItem('items'));
// 2
const liMaker = (text) => {
const li = document.createElement('li');
li.textContent = text;
ul.appendChild(li);
}
// 3
form.addEventListener('submit', function (e) {
e.preventDefault();
// 5
itemsArray.push(input.value);
localStorage.setItem('items', JSON.stringify(itemsArray));
// 3
liMaker(input.value);
input.value = "";
});
// 6
data.forEach(item => {
liMaker(item);
});
// 7
button.addEventListener('click', function () {
localStorage.clear();
while (ul.firstChild) {
ul.removeChild(ul.firstChild);
}

itemsArray = [];
});
</script>
</section>
    </div>
    </main>
    <!-- подвал страницы -->
    <footer  class="footer">
    
        <div class="footer_icons">
            &#10084;
            &#9883;
        </div>
        <div>Сайт разработан SEP, Copyright © 2022</div>
    </footer>


    <!-- скрипты для скрытия части формы -->
    <script>
        document.getElementById('svaz1').addEventListener("click", hiddenCloseclick);
          function hiddenCloseclick() {
          let x = document.getElementById('tel1');
          let y = document.getElementById('email1');
          let z = document.getElementById('email1 tel1');
            
          if (document.getElementById("posta").checked) {
             y.style.visibility = "visible";
        } else {
           y.style.visibility= "hidden"}
          
          
          if (document.getElementById("tele").checked) {
             x.style.visibility = "visible";
        } else {
           x.style.visibility= "hidden"}
          }
    </script>
</body>
</html>

